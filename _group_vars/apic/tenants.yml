tenants:
  - name: ohy
    description: ""
    state: present

    vrfs:
      - name: vrf1
        description: ""
        state: present
      - name: vrf2
        description: ""
        state: present
      - name: vrf3
        description: ""
        state: present

    bridge_domains:
      - name: bd1
        state: present
        vrf: vrf1
        description: ""
        gateway: "10.0.0.1"
        mask: 24
        scope: public
      - name: bd2
        state: present
        vrf: vrf2
        description: ""
        gateway: "10.1.0.1"
        mask: 24
        scope: public
      - name: bd3
        state: present
        vrf: vrf3
        description: ""
        gateway: "10.2.0.1"
        mask: 24
        scope: public

    application_profiles:
      - name: ap1
        state: present

        epgs:
          - name: epg1
            state: present
            bd: bd1
            domain: Phy
            interfaces:
              - name: server1
                mode: trunk
                vlan: "100"
                state: "present"

          - name: epg2
            state: present
            bd: bd1
            domain: Phy
            interfaces:
              - name: server1
                mode: trunk
                vlan: "101"
                state: "present"

              - name: server2
                mode: trunk
                vlan: "102"
                state: "present"

              - name: server3
                mode: trunk
                vlan: "102"
                state: "present"

          - name: epg3
            state: present
            bd: bd1
            domain: Phy
            interfaces:
              - name: server1
                mode: trunk
                vlan: "102"
                state: "present"

          - name: epg4
            state: present
            bd: bd1
            domain: Phy
            interfaces:
              - name: server1
                mode: trunk
                vlan: "103"
                state: "present"

              - name: server2
                mode: trunk
                vlan: "103"
                state: "present"

              - name: server3
                mode: trunk
                vlan: "103"
                state: "present"

    contracts:
      - name: "Web-App"
        subject: "subject1"
        filter: "http"

      - name: "Web-App"
        subject: "subject2"
        filter: "icmp"

    filters:
      - name: "sql"
        entry: "sql"
        protocol: "tcp"
        port: "3306"

      - name: "http"
        entry: "http"
        protocol: "tcp"
        port: "8080"
